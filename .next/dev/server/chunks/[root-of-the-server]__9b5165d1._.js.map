{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/lib/db/connection.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/clinics-booking';\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\r\n}\r\n\r\nlet cached = global as any;\r\n\r\nif (!cached.mongoose) {\r\n  cached.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nexport async function connectDB() {\r\n  if (cached.mongoose.conn) {\r\n    return cached.mongoose.conn;\r\n  }\r\n\r\n  if (!cached.mongoose.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.mongoose.promise = mongoose\r\n      .connect(MONGODB_URI, opts)\r\n      .then((mongoose) => {\r\n        return mongoose;\r\n      });\r\n  }\r\n\r\n  try {\r\n    cached.mongoose.conn = await cached.mongoose.promise;\r\n  } catch (e) {\r\n    cached.mongoose.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.mongoose.conn;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C;;AAIA,IAAI;AAEJ,IAAI,CAAC,OAAO,QAAQ,EAAE;IACpB,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAChD;AAEO,eAAe;IACpB,IAAI,OAAO,QAAQ,CAAC,IAAI,EAAE;QACxB,OAAO,OAAO,QAAQ,CAAC,IAAI;IAC7B;IAEA,IAAI,CAAC,OAAO,QAAQ,CAAC,OAAO,EAAE;QAC5B,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,QAAQ,CAAC,OAAO,GAAG,oHAAQ,CAC/B,OAAO,CAAC,aAAa,MACrB,IAAI,CAAC,CAAC;YACL,OAAO;QACT;IACJ;IAEA,IAAI;QACF,OAAO,QAAQ,CAAC,IAAI,GAAG,MAAM,OAAO,QAAQ,CAAC,OAAO;IACtD,EAAE,OAAO,GAAG;QACV,OAAO,QAAQ,CAAC,OAAO,GAAG;QAC1B,MAAM;IACR;IAEA,OAAO,OAAO,QAAQ,CAAC,IAAI;AAC7B"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/models/Clinic.ts"],"sourcesContent":["import mongoose, { Schema, Document } from 'mongoose';\r\n\r\nexport interface IClinic extends Document {\r\n  name: string;\r\n  address: {\r\n    street: string;\r\n    city: string;\r\n    governorate: string;\r\n  };\r\n  phone: string;\r\n  operating_hours: string;\r\n  doctor_summaries?: {\r\n    doctor_id: mongoose.Types.ObjectId;\r\n    name: string;\r\n    specializations: string[];\r\n  }[];\r\n  room_summaries?: {\r\n    room_number: string;\r\n    type: string;\r\n    status: string;\r\n  }[];\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nconst ClinicSchema = new Schema<IClinic>(\r\n  {\r\n    name: {\r\n      type: String,\r\n      required: [true, 'Please provide a clinic name'],\r\n    },\r\n    address: {\r\n      street: String,\r\n      city: String,\r\n      governorate: String,\r\n    },\r\n    phone: String,\r\n    operating_hours: String,\r\n    doctor_summaries: [\r\n      {\r\n        doctor_id: {\r\n          type: Schema.Types.ObjectId,\r\n          ref: 'Doctor',\r\n        },\r\n        name: String,\r\n        specializations: [String],\r\n      },\r\n    ],\r\n    room_summaries: [\r\n      {\r\n        room_number: String,\r\n        type: String,\r\n        status: String,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\nexport default mongoose.models.Clinic || mongoose.model<IClinic>('Clinic', ClinicSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAyBA,MAAM,eAAe,IAAI,mHAAM,CAC7B;IACE,MAAM;QACJ,MAAM;QACN,UAAU;YAAC;YAAM;SAA+B;IAClD;IACA,SAAS;QACP,QAAQ;QACR,MAAM;QACN,aAAa;IACf;IACA,OAAO;IACP,iBAAiB;IACjB,kBAAkB;QAChB;YACE,WAAW;gBACT,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ;gBAC3B,KAAK;YACP;YACA,MAAM;YACN,iBAAiB;gBAAC;aAAO;QAC3B;KACD;IACD,gBAAgB;QACd;YACE,aAAa;YACb,MAAM;YACN,QAAQ;QACV;KACD;AACH,GACA;IACE,YAAY;AACd;uCAGa,oHAAQ,CAAC,MAAM,CAAC,MAAM,IAAI,oHAAQ,CAAC,KAAK,CAAU,UAAU"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/app/api/clinics/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { connectDB } from '@/lib/db/connection';\r\nimport Clinic from '@/models/Clinic';\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    await connectDB();\r\n    const clinics = await Clinic.find({}).lean();\r\n    return NextResponse.json(clinics, { status: 200 });\r\n  } catch (error) {\r\n    console.error('Error fetching clinics:', error);\r\n    return NextResponse.json(\r\n      { error: 'Internal server error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    await connectDB();\r\n    const data = await req.json();\r\n    const clinic = await Clinic.create(data);\r\n    return NextResponse.json(clinic, { status: 201 });\r\n  } catch (error) {\r\n    console.error('Error creating clinic:', error);\r\n    return NextResponse.json(\r\n      { error: 'Internal server error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,IAAA,4KAAS;QACf,MAAM,UAAU,MAAM,mKAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI;QAC1C,OAAO,sLAAY,CAAC,IAAI,CAAC,SAAS;YAAE,QAAQ;QAAI;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,sLAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,IAAA,4KAAS;QACf,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,SAAS,MAAM,mKAAM,CAAC,MAAM,CAAC;QACnC,OAAO,sLAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAI;IACjD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,sLAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}