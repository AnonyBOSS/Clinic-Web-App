{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/ToastContext.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ntype Toast = { id: string; type?: 'success' | 'error' | 'info'; message: string };\r\n\r\nconst ToastContext = createContext<{ toasts: Toast[]; addToast: (t: Omit<Toast, 'id'>) => void; removeToast: (id: string) => void } | null>(null);\r\n\r\nexport function ToastProvider({ children }: { children: ReactNode }) {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n\r\n  function addToast(t: Omit<Toast, 'id'>) {\r\n    const id = Date.now().toString();\r\n    setToasts((s) => [...s, { ...t, id }]);\r\n    setTimeout(() => removeToast(id), 4000);\r\n  }\r\n\r\n  function removeToast(id: string) {\r\n    setToasts((s) => s.filter((t) => t.id !== id));\r\n  }\r\n\r\n  return <ToastContext.Provider value={{ toasts, addToast, removeToast }}>{children}</ToastContext.Provider>;\r\n}\r\n\r\nexport function useToast() {\r\n  const ctx = useContext(ToastContext);\r\n  if (!ctx) throw new Error('useToast must be used within ToastProvider');\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AADA;;;AAKA,MAAM,6BAAe,IAAA,4PAAa,EAA0G;AAErI,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uPAAQ,EAAU,EAAE;IAEhD,SAAS,SAAS,CAAoB;QACpC,MAAM,KAAK,KAAK,GAAG,GAAG,QAAQ;QAC9B,UAAU,CAAC,IAAM;mBAAI;gBAAG;oBAAE,GAAG,CAAC;oBAAE;gBAAG;aAAE;QACrC,WAAW,IAAM,YAAY,KAAK;IACpC;IAEA,SAAS,YAAY,EAAU;QAC7B,UAAU,CAAC,IAAM,EAAE,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C;IAEA,qBAAO,oRAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAQ;YAAU;QAAY;kBAAI;;;;;;AAC3E;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,yPAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/ToastView.tsx"],"sourcesContent":["\"use client\";\r\nimport React from 'react';\r\nimport { useToast } from './ToastContext';\r\n\r\nexport default function ToastView() {\r\n  const { toasts, removeToast } = useToast();\r\n\r\n  if (!toasts.length) return null;\r\n\r\n  return (\r\n    <div className=\"fixed right-4 bottom-4 z-50 flex flex-col gap-3\">\r\n      {toasts.map((t) => (\r\n        <div\r\n          key={t.id}\r\n          role=\"status\"\r\n          aria-live={t.type === 'error' ? 'assertive' : 'polite'}\r\n          className={`toast-card max-w-sm ${t.type === 'success' ? 'toast-success' : t.type === 'error' ? 'toast-error' : 'toast-info'}`}>\r\n          <div className=\"flex-1 text-sm\">{t.message}</div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              aria-label=\"Dismiss notification\"\r\n              onClick={() => removeToast(t.id)}\r\n              className=\"px-2 py-1 rounded-md text-sm text-slate-700 hover:bg-slate-100\"\r\n            >\r\n              ‚úï\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,6KAAQ;IAExC,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO;IAE3B,qBACE,oRAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,kBACX,oRAAC;gBAEC,MAAK;gBACL,aAAW,EAAE,IAAI,KAAK,UAAU,cAAc;gBAC9C,WAAW,CAAC,oBAAoB,EAAE,EAAE,IAAI,KAAK,YAAY,kBAAkB,EAAE,IAAI,KAAK,UAAU,gBAAgB,cAAc;;kCAC9H,oRAAC;wBAAI,WAAU;kCAAkB,EAAE,OAAO;;;;;;kCAC1C,oRAAC;wBAAI,WAAU;kCACb,cAAA,oRAAC;4BACC,cAAW;4BACX,SAAS,IAAM,YAAY,EAAE,EAAE;4BAC/B,WAAU;sCACX;;;;;;;;;;;;eAVE,EAAE,EAAE;;;;;;;;;;AAkBnB"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/Layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, ReactNode, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { ToastProvider } from './ToastContext';\r\nimport ToastView from './ToastView';\r\n\r\ninterface LayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function Layout({ children }: { children: ReactNode }) {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [user, setUser] = useState<any>(null);\r\n  const [mounted, setMounted] = useState(false);\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const userStr = localStorage.getItem(\"user\");\r\n      if (userStr) setUser(JSON.parse(userStr));\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const isActive = (path: string) => pathname === path;\r\n\r\n  const handleLogout = () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n      localStorage.removeItem(\"userRole\");\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n    setUser(null);\r\n    setMobileMenuOpen(false);\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const toggleButtonRef = useRef<HTMLButtonElement | null>(null);\r\n  const firstMobileLinkRef = useRef<HTMLAnchorElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (mobileMenuOpen) {\r\n      // move focus into the mobile menu\r\n      setTimeout(() => firstMobileLinkRef.current?.focus(), 50);\r\n    } else {\r\n      // restore focus to the toggle\r\n      toggleButtonRef.current?.focus();\r\n    }\r\n  }, [mobileMenuOpen]);\r\n\r\n  const handleMobileKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') {\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  // Basic focus trap: keep Tab/Shift+Tab cycling inside the mobile menu when open\r\n  const handleMobileMenuKey = (e: React.KeyboardEvent) => {\r\n    if (!mobileMenuOpen) return;\r\n    if (e.key !== 'Tab') return;\r\n\r\n    const focusable = Array.from(document.querySelectorAll('#mobile-menu a, #mobile-menu button')) as HTMLElement[];\r\n    if (!focusable.length) return;\r\n    const first = focusable[0];\r\n    const last = focusable[focusable.length - 1];\r\n\r\n    if (!e.shiftKey && document.activeElement === last) {\r\n      e.preventDefault();\r\n      first.focus();\r\n    }\r\n\r\n    if (e.shiftKey && document.activeElement === first) {\r\n      e.preventDefault();\r\n      last.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ToastProvider>\r\n      <div className=\"flex flex-col min-h-screen bg-white\">\r\n        <header className=\"site-header sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b\">\r\n          <div className=\"site-container h-16 flex items-center justify-between relative\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <Link href=\"/\" className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 rounded-lg bg-linear-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-bold text-lg\">üè•</div>\r\n                <span className=\"font-bold text-xl text-slate-900 hidden sm:inline\">ClinicHub</span>\r\n              </Link>\r\n            </div>\r\n\r\n            <nav aria-label=\"Main navigation\" className=\"hidden lg:flex items-center gap-6\">\r\n              <Link href=\"/\" className={`nav-link ${isActive(\"/\") ? \"text-indigo-600\" : \"text-slate-700 hover:text-indigo-600\"}`}>\r\n                Home\r\n              </Link>\r\n              <Link href=\"/clinics\" className={`nav-link ${isActive(\"/clinics\") ? \"text-indigo-600\" : \"text-slate-700 hover:text-indigo-600\"}`}>\r\n                Clinics\r\n              </Link>\r\n              <Link href=\"/doctors\" className={`nav-link ${isActive(\"/doctors\") ? \"text-indigo-600\" : \"text-slate-700 hover:text-indigo-600\"}`}>\r\n                Doctors\r\n              </Link>\r\n            </nav>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              {mounted && user ? (\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"hidden sm:block text-sm\">\r\n                    <div className=\"font-semibold text-slate-900\">{user.full_name?.split(\" \")[0]}</div>\r\n                  </div>\r\n                  <button onClick={handleLogout} className=\"hidden sm:inline-block px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold\">Logout</button>\r\n                </div>\r\n              ) : mounted ? (\r\n                <div className=\"hidden sm:flex items-center gap-2\">\r\n                  <Link href=\"/login\"><button className=\"px-4 py-2 rounded-lg text-slate-700 font-semibold hover:bg-slate-100\">Login</button></Link>\r\n                  <Link href=\"/register\"><button className=\"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700\">Sign Up</button></Link>\r\n                </div>\r\n              ) : null}\r\n\r\n              <button aria-label=\"Toggle menu\" aria-expanded={mobileMenuOpen} aria-controls=\"mobile-menu\" ref={toggleButtonRef} onClick={() => setMobileMenuOpen((s) => !s)} className=\"lg:hidden p-2 rounded-lg hover:bg-slate-100\">{mobileMenuOpen ? \"‚úï\" : \"‚ò∞\"}</button>\r\n            </div>\r\n          </div>\r\n\r\n          {mobileMenuOpen && (\r\n            <div id=\"mobile-menu\" onKeyDown={(e) => { handleMobileKeyDown(e); handleMobileMenuKey(e); }} className=\"lg:hidden absolute inset-x-0 top-16 bg-white border-b shadow-lg\">\r\n              <nav className=\"site-container py-4 flex flex-col gap-2\">\r\n                <Link href=\"/\" ref={firstMobileLinkRef} onClick={() => setMobileMenuOpen(false)} className=\"px-4 py-2 rounded-lg hover:bg-slate-100 font-medium\">Home</Link>\r\n                <Link href=\"/clinics\" onClick={() => setMobileMenuOpen(false)} className=\"px-4 py-2 rounded-lg hover:bg-slate-100 font-medium\">Clinics</Link>\r\n                <Link href=\"/doctors\" onClick={() => setMobileMenuOpen(false)} className=\"px-4 py-2 rounded-lg hover:bg-slate-100 font-medium\">Doctors</Link>\r\n                <div className=\"border-t border-slate-200 pt-3 mt-3\">\r\n                  {mounted && user ? (\r\n                    <button onClick={handleLogout} className=\"w-full px-4 py-2 rounded-lg bg-red-50 text-red-700 font-semibold\">Logout</button>\r\n                  ) : mounted ? (\r\n                    <div className=\"flex gap-2\">\r\n                      <Link href=\"/login\" className=\"flex-1\"><button onClick={() => setMobileMenuOpen(false)} className=\"w-full px-4 py-2 rounded-lg bg-slate-100\">Login</button></Link>\r\n                      <Link href=\"/register\" className=\"flex-1\"><button onClick={() => setMobileMenuOpen(false)} className=\"w-full px-4 py-2 rounded-lg bg-indigo-600 text-white\">Sign Up</button></Link>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </nav>\r\n            </div>\r\n          )}\r\n        </header>\r\n\r\n        <main className=\"flex-1\">{children}</main>\r\n\r\n        <footer className=\"site-footer border-t\">\r\n          <div className=\"site-container py-12\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6\">\r\n              <div>\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                  <div className=\"w-10 h-10 rounded-lg bg-linear-to-br from-indigo-600 to-blue-600 flex items-center justify-center text-white font-bold\">üè•</div>\r\n                  <div>\r\n                    <div className=\"font-bold text-white\">ClinicHub</div>\r\n                    <div className=\"text-sm text-slate-300\">Trusted booking for modern healthcare</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-sm text-slate-300\">¬© 2025 ClinicHub. All rights reserved.</div>\r\n              </div>\r\n\r\n              <div className=\"links\">\r\n                <Link href=\"/clinics\">Clinics</Link>\r\n                <Link href=\"/doctors\">Doctors</Link>\r\n                <Link href=\"/login\">Login</Link>\r\n                <Link href=\"/register\">Sign up</Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n\r\n        <ToastView />\r\n      </div>\r\n    </ToastProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}