{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/Card.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Card({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return (\r\n    <div className={`bg-white rounded-lg shadow p-6 ${className}`}>{children}</div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEe,SAAS,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IAC1G,qBACE,mOAAC;QAAI,WAAW,CAAC,+BAA+B,EAAE,WAAW;kBAAG;;;;;;AAEpE;KAJwB"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/Spinner.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Spinner({ className = 'h-6 w-6' }: { className?: string }) {\r\n  return (\r\n    <svg className={`animate-spin text-gray-600 ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" aria-hidden>\r\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEe,SAAS,QAAQ,EAAE,YAAY,SAAS,EAA0B;IAC/E,qBACE,mOAAC;QAAI,WAAW,CAAC,2BAA2B,EAAE,WAAW;QAAE,OAAM;QAA6B,MAAK;QAAO,SAAQ;QAAY,aAAW;;0BACvI,mOAAC;gBAAO,WAAU;gBAAa,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAK,QAAO;gBAAe,aAAY;;;;;;0BACxF,mOAAC;gBAAK,WAAU;gBAAa,MAAK;gBAAe,GAAE;;;;;;;;;;;;AAGzD;KAPwB"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/components/Alert.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Alert({\r\n  type = 'info',\r\n  children,\r\n}: {\r\n  type?: 'info' | 'success' | 'error' | 'warning';\r\n  children: React.ReactNode;\r\n}) {\r\n  const classes =\r\n    type === 'success'\r\n      ? 'bg-green-50 text-green-800'\r\n      : type === 'error'\r\n      ? 'bg-red-50 text-red-800'\r\n      : type === 'warning'\r\n      ? 'bg-yellow-50 text-yellow-800'\r\n      : 'bg-blue-50 text-blue-800';\r\n\r\n  return (\r\n    <div className={`p-3 rounded-md ${classes}`}>{children}</div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEe,SAAS,MAAM,EAC5B,OAAO,MAAM,EACb,QAAQ,EAIT;IACC,MAAM,UACJ,SAAS,YACL,+BACA,SAAS,UACT,2BACA,SAAS,YACT,iCACA;IAEN,qBACE,mOAAC;QAAI,WAAW,CAAC,eAAe,EAAE,SAAS;kBAAG;;;;;;AAElD;KAnBwB"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/app/doctors/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Card from '../../../components/Card';\r\nimport Button from '../../../components/Button';\r\nimport Spinner from '../../../components/Spinner';\r\nimport Alert from '../../../components/Alert';\r\n\r\ninterface Doctor {\r\n  _id: string;\r\n  full_name: string;\r\n  email: string;\r\n  phone: string;\r\n  specializations: string[];\r\n  qualifications?: string[];\r\n  clinic_affiliations?: any[];\r\n}\r\n\r\ninterface Slot {\r\n  _id: string;\r\n  time: string;\r\n  date: string;\r\n  room_id: any;\r\n}\r\n\r\nexport default function DoctorDetailPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const id = params.id as string;\r\n  const [doctor, setDoctor] = useState<Doctor | null>(null);\r\n  const [slots, setSlots] = useState<Slot[]>([]);\r\n  const [selectedSlot, setSelectedSlot] = useState<string | null>(null);\r\n  const [selectedDate, setSelectedDate] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingSlots, setLoadingSlots] = useState(false);\r\n  const [bookingError, setBookingError] = useState('');\r\n  const [user, setUser] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      setUser(JSON.parse(userStr));\r\n    }\r\n    if (id) {\r\n      fetchDoctor();\r\n    }\r\n  }, [id]);\r\n\r\n  const fetchDoctor = async () => {\r\n    try {\r\n      const response = await fetch(`/api/doctors/${id}`);\r\n      const data = await response.json();\r\n      setDoctor(data.doctor);\r\n    } catch (error) {\r\n      console.error('Error fetching doctor:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDateChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const date = e.target.value;\r\n    setSelectedDate(date);\r\n    setSelectedSlot(null);\r\n\r\n    if (date) {\r\n      await fetchSlots(date);\r\n    }\r\n  };\r\n\r\n  const fetchSlots = async (date: string) => {\r\n    try {\r\n      setLoadingSlots(true);\r\n      const response = await fetch(\r\n        `/api/slots/available?doctor_id=${id}&date=${date}`\r\n      );\r\n      const data = await response.json();\r\n      setSlots(data);\r\n    } catch (error) {\r\n      console.error('Error fetching slots:', error);\r\n    } finally {\r\n      setLoadingSlots(false);\r\n    }\r\n  };\r\n\r\n  const handleBookAppointment = async () => {\r\n    if (!selectedSlot || !user) {\r\n      setBookingError('Please select a slot and login first');\r\n      return;\r\n    }\r\n\r\n    if (!selectedDate) {\r\n      setBookingError('Please select a date');\r\n      return;\r\n    }\r\n\r\n    const slot = slots.find((s) => s._id === selectedSlot);\r\n    if (!slot) return;\r\n\r\n    try {\r\n      setBookingError('');\r\n      const response = await fetch('/api/appointments/book', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          patient_id: user.id,\r\n          doctor_id: id,\r\n          clinic_id: doctor?.clinic_affiliations?.[0]?._id || '',\r\n          slot_id: selectedSlot,\r\n          room_id: slot.room_id._id,\r\n          payment_amount: 100,\r\n          payment_method: 'cash',\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        setBookingError(data.error || 'Booking failed');\r\n        return;\r\n      }\r\n\r\n      router.push('/patient/dashboard');\r\n    } catch (error: any) {\r\n      setBookingError(error.message || 'An error occurred');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center py-12\"><Spinner className=\"h-8 w-8\" /></div>;\r\n  if (!doctor) return <div className=\"text-center py-12\">Doctor not found</div>;\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 py-12\">\r\n      <div className=\"flex items-center gap-6\">\r\n        <div className=\"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center text-xl font-bold\">{doctor.full_name.split(' ').slice(0,2).map(n=>n[0]).join('')}</div>\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">{doctor.full_name}</h1>\r\n          <p className=\"text-sm text-gray-600\">{doctor.specializations.join(', ')}</p>\r\n          {doctor.qualifications && <p className=\"text-xs text-gray-500\">{doctor.qualifications.join(', ')}</p>}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\r\n        <Card>\r\n          <h2 className=\"text-lg font-semibold mb-2\">Profile</h2>\r\n          <p className=\"text-sm text-gray-600\"><strong>Email:</strong> {doctor.email}</p>\r\n          <p className=\"text-sm text-gray-600\"><strong>Phone:</strong> {doctor.phone}</p>\r\n        </Card>\r\n\r\n        <Card>\r\n          <h2 className=\"text-lg font-semibold mb-2\">Book an Appointment</h2>\r\n\r\n          {!user && (\r\n            <Alert type=\"warning\">Please <Link href=\"/login\" className=\"underline\">login</Link> to book</Alert>\r\n          )}\r\n\r\n          {bookingError && (\r\n            <div className=\"mt-4\"><Alert type=\"error\">{bookingError}</Alert></div>\r\n          )}\r\n\r\n          <div className=\"mt-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              min={new Date().toISOString().split('T')[0]}\r\n              className=\"w-full px-3 py-2 rounded border border-gray-200 focus:ring-2 focus:ring-blue-200\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Available Slots</label>\r\n            {loadingSlots ? (\r\n              <div className=\"py-4 text-center\"><Spinner /></div>\r\n            ) : slots.length === 0 ? (\r\n              <p className=\"text-sm text-gray-600\">No slots available for this date.</p>\r\n            ) : (\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                {slots.map((slot) => (\r\n                  <button\r\n                    key={slot._id}\r\n                    onClick={() => setSelectedSlot(slot._id)}\r\n                    className={`px-3 py-2 border rounded text-sm text-center ${selectedSlot === slot._id ? 'bg-blue-600 text-white' : 'bg-white text-gray-700'}`}\r\n                  >\r\n                    {slot.time}\r\n                    <div className=\"text-xs text-gray-500\">Room {slot.room_id.room_number}</div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <Button onClick={handleBookAppointment} disabled={!selectedSlot || !user}>Book Appointment</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmad/Downloads/ClincsManagmentSystem/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}