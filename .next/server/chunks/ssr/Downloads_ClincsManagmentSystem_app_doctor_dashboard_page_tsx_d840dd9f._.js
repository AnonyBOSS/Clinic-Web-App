module.exports=[96229,a=>{"use strict";var b=a.i(14845),c=a.i(71724),d=a.i(73182);function e(){let a=(0,d.useRouter)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)("schedule"),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{let b=localStorage.getItem("token"),c=localStorage.getItem("userRole"),d=localStorage.getItem("user");if(!b||"doctor"!==c)return void a.push("/doctor/login");if(d){let a=JSON.parse(d);f(a),q(a.id)}},[]);let q=async a=>{try{let b=new Date().toISOString().split("T")[0],c=await fetch(`/api/doctors/${a}?date=${b}`),d=await c.json();h(d.schedule||[]),j(d.appointments||[]),p(b)}catch(a){console.error("Error fetching doctor data:",a)}finally{l(!1)}},r=async a=>{let b=a.target.value;p(b);try{let a=await fetch(`/api/doctors/${e.id}?date=${b}`),c=await a.json();j(c.appointments||[])}catch(a){console.error("Error fetching appointments:",a)}};return e?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold",children:"Doctor Dashboard"}),(0,b.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userRole"),a.push("/")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Logout"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Welcome, Dr. ",e.full_name,"!"]}),(0,b.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,b.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Specializations:"})," ",e.specializations?.join(", ")||"General Practice"]})]}),(0,b.jsxs)("div",{className:"mb-6 flex space-x-4",children:[(0,b.jsx)("button",{onClick:()=>n("schedule"),className:`px-4 py-2 rounded ${"schedule"===m?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Today's Schedule"}),(0,b.jsx)("button",{onClick:()=>n("manage"),className:`px-4 py-2 rounded ${"manage"===m?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Manage Schedule"})]}),"schedule"===m&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Select Date"}),(0,b.jsx)("input",{type:"date",value:o,onChange:r,className:"px-4 py-2 border border-gray-300 rounded"})]}),0===i.length?(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:(0,b.jsx)("p",{className:"text-gray-600",children:"No appointments for this date"})}):(0,b.jsx)("div",{className:"space-y-4",children:i.map(a=>(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold",children:a.patient_id?.full_name}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:["Patient ID: ",a.patient_id?._id]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold",children:a.clinic_id?.name}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:["Room ",a.room_id?.room_number]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-sm",children:[(0,b.jsx)("strong",{children:"Status:"})," ",(0,b.jsx)("span",{className:"capitalize text-blue-600",children:a.status})]})})]})},a._id))})]}),"manage"===m&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Manage Working Schedule"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Current Schedule:"}),g.length>0?(0,b.jsx)("div",{className:"space-y-2",children:g.map((a,c)=>(0,b.jsxs)("div",{className:"border border-gray-200 p-3 rounded",children:[(0,b.jsx)("p",{className:"font-bold",children:a.day}),(0,b.jsxs)("p",{className:"text-gray-600",children:[a.start_time," - ",a.end_time]})]},c))}):(0,b.jsx)("p",{className:"text-gray-600",children:"No schedule set"}),(0,b.jsx)("p",{className:"text-gray-600 mt-4",children:"Schedule management coming soon..."})]})]}):(0,b.jsx)("div",{className:"text-center py-12",children:"Loading..."})}a.s(["default",()=>e])}];

//# sourceMappingURL=Downloads_ClincsManagmentSystem_app_doctor_dashboard_page_tsx_d840dd9f._.js.map