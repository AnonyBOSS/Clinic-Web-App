module.exports=[50117,a=>{"use strict";var b=a.i(14845);function c({children:a,className:c="",...d}){return(0,b.jsx)("div",{role:"group",className:`card ${c}`,...d,children:a})}a.s(["default",()=>c])},91226,a=>{"use strict";var b=a.i(14845);let c={primary:"btn-primary",secondary:"btn-secondary",outline:"border border-slate-300 text-slate-800 bg-white hover:bg-slate-50",destructive:"bg-red-600 text-white hover:bg-red-700"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};function e({variant:a="primary",size:e="md",className:f="",children:g,...h}){return(0,b.jsx)("button",{className:`btn ${c[a]} ${d[e]} ${f}`,...h,children:g})}a.s(["default",()=>e])},14608,a=>{"use strict";var b=a.i(14845);function c({className:a="h-6 w-6"}){return(0,b.jsxs)("svg",{className:`animate-spin text-gray-600 ${a}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":!0,children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}a.s(["default",()=>c])},53563,a=>{"use strict";var b=a.i(14845);function c({type:a="info",children:c}){return(0,b.jsx)("div",{role:"alert",className:`p-3 rounded-md ${"success"===a?"bg-green-50 text-green-800 border border-green-100":"error"===a?"bg-red-50 text-red-800 border border-red-100":"warning"===a?"bg-yellow-50 text-yellow-800 border border-yellow-100":"bg-blue-50 text-blue-800 border border-blue-100"}`,children:c})}a.s(["default",()=>c])},71775,a=>{"use strict";var b=a.i(14845),c=a.i(71724),d=a.i(73182),e=a.i(38713),f=a.i(50117),g=a.i(91226),h=a.i(14608),i=a.i(53563);function j(){let a=(0,d.useParams)(),j=(0,d.useRouter)(),k=a.id,[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=localStorage.getItem("user");a&&A(JSON.parse(a)),k&&B()},[k]);let B=async()=>{try{let a=await fetch(`/api/doctors/${k}`),b=await a.json();m(b.doctor)}catch(a){console.error("Error fetching doctor:",a)}finally{u(!1)}},C=async a=>{let b=a.target.value;s(b),q(null),b&&await D(b)},D=async a=>{try{w(!0);let b=await fetch(`/api/slots/available?doctor_id=${k}&date=${a}`),c=await b.json();o(c)}catch(a){console.error("Error fetching slots:",a)}finally{w(!1)}},E=async()=>{if(!p||!z)return void y("Please select a slot and login first");if(!r)return void y("Please select a date");let a=n.find(a=>a._id===p);if(a)try{y("");let b=await fetch("/api/appointments/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:z.id,doctor_id:k,clinic_id:l?.clinic_affiliations?.[0]?._id||"",slot_id:p,room_id:a.room_id._id,payment_amount:100,payment_method:"cash"})});if(!b.ok){let a=await b.json();y(a.error||"Booking failed");return}j.push("/patient/dashboard")}catch(a){y(a.message||"An error occurred")}};return t?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(h.default,{className:"h-12 w-12 text-indigo-600"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading doctor profile..."})]})}):l?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:(0,b.jsxs)("div",{className:"site-container py-16 lg:py-24",children:[(0,b.jsxs)(e.default,{href:"/doctors",className:"inline-flex items-center text-indigo-600 hover:text-indigo-700 font-semibold mb-8 transition-colors",children:[(0,b.jsx)("span",{className:"mr-2",children:"â†"})," Back to Doctors"]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-8 lg:p-12 space-y-6 mb-12",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8 justify-between",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-indigo-100 to-blue-100 flex items-center justify-center text-5xl shrink-0 border-4 border-indigo-200",children:"ðŸ‘¨â€âš•ï¸"}),(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl lg:text-5xl font-bold text-slate-900",children:["Dr. ",l.full_name]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:l.specializations.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex items-center rounded-full bg-indigo-50 text-indigo-700 px-4 py-2 text-sm font-semibold border border-indigo-200",children:a},c))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium uppercase tracking-wide text-xs",children:"Email"}),(0,b.jsx)("p",{className:"text-slate-800 font-semibold",children:l.email})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium uppercase tracking-wide text-xs",children:"Phone"}),(0,b.jsx)("a",{href:`tel:${l.phone}`,className:"text-indigo-600 font-semibold hover:text-indigo-700 underline",children:l.phone})]})]}),l.qualifications&&l.qualifications.length>0&&(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium uppercase tracking-wide text-xs mb-2",children:"Qualifications"}),(0,b.jsx)("ul",{className:"space-y-1",children:l.qualifications.map((a,c)=>(0,b.jsxs)("li",{className:"text-slate-700 flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-indigo-600 mt-1",children:"âœ“"}),(0,b.jsx)("span",{className:"font-medium",children:a})]},c))})]}),l.clinic_affiliations&&l.clinic_affiliations.length>0&&(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium uppercase tracking-wide text-xs mb-2",children:"Clinic Affiliations"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:l.clinic_affiliations.map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center rounded-full bg-green-50 text-green-700 px-3 py-1.5 text-xs font-semibold border border-green-200",children:["ðŸ¥ ",a.name||"Clinic"]},c))})]})]}),(0,b.jsx)("div",{className:"hidden lg:flex lg:items-start lg:pl-6",children:(0,b.jsx)("button",{onClick:()=>document.getElementById("booking")?.scrollIntoView({behavior:"smooth"}),className:"rounded-lg px-5 py-3 bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:"Book Appointment"})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)(f.default,{id:"booking",className:"lg:col-span-2 p-8 space-y-8 border border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Book an Appointment"}),(0,b.jsxs)("p",{className:"text-slate-600",children:["Schedule your consultation with Dr. ",l.full_name]})]}),!z&&(0,b.jsxs)(i.default,{type:"warning",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Login Required"}),(0,b.jsxs)("p",{className:"text-sm mt-1",children:["Please ",(0,b.jsx)(e.default,{href:"/login",className:"underline font-semibold",children:"login"})," to book an appointment"]})]}),x&&(0,b.jsx)(i.default,{type:"error",children:x}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{htmlFor:"date",className:"block text-sm font-bold text-slate-700 uppercase tracking-wide",children:"Select Date"}),(0,b.jsx)("input",{id:"date",type:"date",value:r,onChange:C,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 rounded-lg border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-slate-900 font-medium"})]}),r&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 uppercase tracking-wide",children:"Available Time Slots"}),v?(0,b.jsx)("div",{className:"py-8 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(h.default,{className:"h-8 w-8 text-indigo-600"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading available slots..."})]})}):0===n.length?(0,b.jsxs)("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-6 text-center space-y-2",children:[(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"No slots available for this date"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Try selecting a different date"})]}):(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:n.map(a=>(0,b.jsxs)("button",{onClick:()=>q(a._id),className:`p-3 rounded-lg border-2 transition-all text-center font-semibold ${p===a._id?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-900 hover:border-indigo-300 hover:bg-indigo-50"}`,children:[(0,b.jsx)("div",{className:"text-base",children:a.time}),(0,b.jsxs)("div",{className:`text-xs mt-1 ${p===a._id?"text-indigo-100":"text-slate-500"}`,children:["Room ",a.room_id.room_number]})]},a._id))})]}),(0,b.jsx)(g.default,{onClick:E,disabled:!p||!z,className:"w-full py-4 text-lg font-bold",children:z?p?"âœ“ Confirm Booking":"ðŸ“… Select a Date & Time":"ðŸ‘¤ Login to Book"})]})]}),(0,b.jsx)(f.default,{className:"p-8 space-y-6 border border-slate-100 h-fit sticky top-24",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Booking Summary"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium text-xs uppercase tracking-wide",children:"Doctor"}),(0,b.jsxs)("p",{className:"text-slate-900 font-bold",children:["Dr. ",l.full_name]})]}),r&&(0,b.jsxs)("div",{className:"space-y-2 pt-4 border-t border-slate-100",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium text-xs uppercase tracking-wide",children:"Appointment Date"}),(0,b.jsx)("p",{className:"text-slate-900 font-bold",children:new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),p&&n.find(a=>a._id===p)&&(0,b.jsxs)("div",{className:"space-y-2 pt-4 border-t border-slate-100",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium text-xs uppercase tracking-wide",children:"Time Slot"}),(0,b.jsx)("p",{className:"text-slate-900 font-bold text-lg",children:n.find(a=>a._id===p)?.time})]}),(0,b.jsxs)("div",{className:"space-y-2 pt-4 border-t border-slate-100",children:[(0,b.jsx)("p",{className:"text-slate-500 font-medium text-xs uppercase tracking-wide",children:"Consultation Fee"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:"$100"})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"ðŸ’³ Pay at clinic after consultation"})})]})]})})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("p",{className:"text-5xl",children:"ðŸ‘¨â€âš•ï¸"}),(0,b.jsx)("p",{className:"text-slate-600 text-lg font-medium",children:"Doctor not found"}),(0,b.jsx)(e.default,{href:"/doctors",children:(0,b.jsx)(g.default,{children:"Back to Doctors"})})]})})}a.s(["default",()=>j])}];

//# sourceMappingURL=Downloads_ClincsManagmentSystem_daa7f66b._.js.map