(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86012,e=>{"use strict";var t=e.i(52018),r=e.i(39513);function a({label:e,htmlFor:a,helper:s,error:l,children:i}){let d=a?`${a}-error`:void 0,n=r.default.isValidElement(i)?r.default.cloneElement(i,{id:i.props.id||a,...d?{"aria-describedby":d}:{},...l?{invalid:!0}:{}}):i;return(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-slate-700 mb-2",children:e}),(0,t.jsx)("div",{children:n}),s&&(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:s}),l&&(0,t.jsx)("p",{id:d,className:"text-xs text-red-600 mt-1",children:l})]})}e.s(["default",()=>a])},22248,e=>{"use strict";var t=e.i(52018);function r({children:e,className:r="",...a}){return(0,t.jsx)("div",{role:"group",className:`card ${r}`,...a,children:e})}e.s(["default",()=>r])},7323,e=>{"use strict";var t=e.i(52018);let r={primary:"btn-primary",secondary:"btn-secondary",outline:"border border-slate-300 text-slate-800 bg-white hover:bg-slate-50",destructive:"bg-red-600 text-white hover:bg-red-700"},a={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};function s({variant:e="primary",size:s="md",className:l="",children:i,...d}){return(0,t.jsx)("button",{className:`btn ${r[e]} ${a[s]} ${l}`,...d,children:i})}e.s(["default",()=>s])},92214,e=>{"use strict";var t=e.i(52018);function r({className:e="h-6 w-6"}){return(0,t.jsxs)("svg",{className:`animate-spin text-gray-600 ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":!0,children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}e.s(["default",()=>r])},56793,e=>{"use strict";var t=e.i(52018);let r="form-input";function a({textarea:e,className:a="",errorId:s,invalid:l,...i}){let d={};return(l&&(d["aria-invalid"]=!0),s&&(d["aria-describedby"]=s),e)?(0,t.jsx)("textarea",{className:`${r} ${a}`,...d,...i}):(0,t.jsx)("input",{className:`${r} ${a}`,...d,...i})}e.s(["default",()=>a])},66249,e=>{"use strict";var t=e.i(52018);function r({type:e="info",children:r}){return(0,t.jsx)("div",{role:"alert",className:`p-3 rounded-md ${"success"===e?"bg-green-50 text-green-800 border border-green-100":"error"===e?"bg-red-50 text-red-800 border border-red-100":"warning"===e?"bg-yellow-50 text-yellow-800 border border-yellow-100":"bg-blue-50 text-blue-800 border border-blue-100"}`,children:r})}e.s(["default",()=>r])},87983,e=>{"use strict";var t=e.i(52018),r=e.i(39513),a=e.i(20158),s=e.i(69474),l=e.i(22248),i=e.i(7323),d=e.i(86012),n=e.i(92214),o=e.i(66249),c=e.i(56793);function u(){let[e,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,b]=(0,r.useState)(""),[p,g]=(0,r.useState)({}),[f,v]=(0,r.useState)(!1),j=(0,a.useRouter)(),y=async t=>{let r;t.preventDefault();let a=(r={},e&&e.includes("@")||(r.email="Please enter a valid email"),(!m||m.length<6)&&(r.password="Password must be at least 6 characters"),g(r),Object.keys(r).length?r:null);if(a)return b(Object.values(a)[0]);b(""),v(!0);try{let t=await fetch("/api/auth/patient/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:m})}),r=await t.json();if(!t.ok)return void b(r.error||"Login failed");localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.patient)),localStorage.setItem("userRole","patient"),j.push("/patient/dashboard")}catch(e){b(e.message||"An error occurred")}finally{v(!1)}};return(0,t.jsx)("div",{className:"max-w-md mx-auto mt-12",children:(0,t.jsxs)(l.default,{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Patient Login"}),h&&(0,t.jsx)(o.default,{type:"error",children:h}),(0,t.jsxs)("form",{onSubmit:y,className:"mt-4",children:[(0,t.jsx)(d.default,{label:"Email",htmlFor:"email",children:(0,t.jsx)(c.default,{id:"email",type:"email",value:e,onChange:e=>{u(e.target.value),g(e=>({...e,email:void 0}))},className:p.email?"border-red-400 ring-1 ring-red-100":""})}),(0,t.jsx)(d.default,{label:"Password",htmlFor:"password",children:(0,t.jsx)(c.default,{id:"password",type:"password",value:m,onChange:e=>{x(e.target.value),g(e=>({...e,password:void 0}))},className:p.password?"border-red-400 ring-1 ring-red-100":""})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(i.default,{type:"submit",className:"w-full",disabled:f,children:f?(0,t.jsx)(n.default,{className:"h-4 w-4"}):"Login"})})]}),(0,t.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account? ",(0,t.jsx)(s.default,{href:"/register",className:"text-blue-600 underline",children:"Register"})]}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm",children:(0,t.jsx)(s.default,{href:"/doctor/login",className:"text-blue-600 underline",children:"Doctor login"})})]})})}e.s(["default",()=>u])}]);